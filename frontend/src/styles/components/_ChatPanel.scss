@use '../helpers' as h;

.chat-panel {
	display: flex;
	flex-direction: column;
	height: 100%;
	background-color: var(--color-white);
	
	&__header {
		padding: var(--spacing-md) var(--spacing-lg);
		border-bottom: var(--border);
		background-color: var(--color-white);
	}
	
	&__title {
		margin: 0;
		font-family: var(--font-family-secondary), sans-serif;
		font-size: h.rem(16);
		font-weight: 600;
		color: var(--color-text-primary);
	}
}

.message-list {
	flex: 1;
	overflow-y: auto;
	padding: var(--spacing-lg);
	display: flex;
	flex-direction: column;
	gap: var(--spacing-md);
	
	scrollbar-width: none;
	-ms-overflow-style: none;
	&::-webkit-scrollbar {
		display: none;
	}
	
	&__loading,
	&__empty {
		display: flex;
		align-items: center;
		justify-content: center;
		height: 100%;
		color: var(--color-text-muted);
		font-size: h.rem(14);
	}
}

.message-item {
	display: flex;
	flex-direction: column;
	gap: var(--spacing-xs);
	
	&__header {
		display: flex;
		align-items: center;
		gap: var(--spacing-sm);
	}
	
	&__author {
		font-size: h.rem(13);
		font-weight: 600;
		color: var(--color-text-primary);
	}
	
	&__time {
		font-size: h.rem(12);
		color: var(--color-text-muted);
	}
	
	&__content {
		padding: var(--spacing-sm) var(--spacing-md);
		background-color: var(--color-bg-secondary);
		border-radius: var(--border-radius);
		font-size: h.rem(14);
		color: var(--color-text-primary);
		line-height: 1.5;
		word-wrap: break-word;
	}
	
	&__actions {
		display: flex;
		gap: var(--spacing-xs);
		margin-top: var(--spacing-xs);
		opacity: 0;
		transition: opacity var(--transition-duration) var(--transition-easing);
	}
	
	&__action {
		padding: h.rem(4) var(--spacing-sm);
		background: none;
		border: none;
		border-radius: var(--border-radius);
		font-size: h.rem(12);
		color: var(--color-text-secondary);
		cursor: pointer;
		transition: all var(--transition-duration) var(--transition-easing);
		
		@include h.hover(false) {
			background-color: var(--color-bg-hover);
			color: var(--color-primary);
		}
	}
	
	@include h.hover(false) {
		.message-item__actions {
			opacity: 1;
		}
	}
	
	&--own {
		align-items: flex-end;
		
		.message-item__content {
			background-color: var(--color-primary);
			color: var(--color-white);
		}
	}
}

.message-input {
	padding: var(--spacing-md) var(--spacing-lg);
	border-top: var(--border);
	background-color: var(--color-white);
	
	&__wrapper {
		display: flex;
		gap: var(--spacing-sm);
		align-items: flex-end;
	}
	
	&__textarea {
		flex: 1;
		min-height: h.rem(40);
		max-height: h.rem(120);
		padding: var(--spacing-sm) var(--spacing-md);
		border: var(--border);
		border-radius: var(--border-radius);
		font-family: inherit;
		font-size: h.rem(14);
		color: var(--color-text-primary);
		resize: none;
		transition: border-color var(--transition-duration) var(--transition-easing);
		
		&:focus {
			outline: none;
			border-color: var(--color-primary);
		}
		
		&::placeholder {
			color: var(--color-text-muted);
		}
	}
	
	&__send {
		width: h.rem(40);
		height: h.rem(40);
		display: flex;
		align-items: center;
		justify-content: center;
		background-color: var(--color-primary);
		color: var(--color-white);
		border: none;
		border-radius: var(--border-radius);
		cursor: pointer;
		transition: all var(--transition-duration) var(--transition-easing);
		flex-shrink: 0;
		
		@include h.hover(false) {
			background-color: var(--color-primary-hover);
		}
		
		&:disabled {
			background-color: var(--color-bg-secondary);
			color: var(--color-text-muted);
			cursor: not-allowed;
		}
		
		svg {
			width: h.rem(20);
			height: h.rem(20);
		}
	}
}